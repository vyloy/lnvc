/*
 * GroupListItem.java
 *
 * Created on __DATE__, __TIME__
 */

package com.lorent.vovo.ui;

import com.lorent.vovo.Vovo;
import com.lorent.vovo.dto.GroupInfo;
import com.lorent.vovo.util.VovoStringUtil;

/**
 *
 * @author  __USER__
 */
public class GroupListItem extends javax.swing.JPanel {

	/** Creates new form GroupListItem */
	public GroupListItem() {
		initComponents();
		applyInLabel.setVisible(false);
		applyInLabel
				.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
	}

	/** This method is called from within the constructor to
	 * initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is
	 * always regenerated by the Form Editor.
	 */
	//GEN-BEGIN:initComponents
	// <editor-fold defaultstate="collapsed" desc="Generated Code">
	private void initComponents() {
		java.awt.GridBagConstraints gridBagConstraints;

		backgroundXPanel = new org.jdesktop.swingx.JXPanel();
		groupImgLabel = new javax.swing.JLabel();
		jPanel1 = new javax.swing.JPanel();
		jPanel2 = new javax.swing.JPanel();
		groupNameLabel = new javax.swing.JLabel();
		groupDescPanel = new javax.swing.JPanel();
		groupDescLabel = new javax.swing.JLabel();
		applyInLabel = new javax.swing.JLabel();

		setMaximumSize(new java.awt.Dimension(1000, 54));
		setMinimumSize(new java.awt.Dimension(140, 54));
		setOpaque(false);
		setPreferredSize(new java.awt.Dimension(140, 54));
		setLayout(new java.awt.BorderLayout());

		backgroundXPanel.setOpaque(false);
		backgroundXPanel.setLayout(new java.awt.GridBagLayout());

		groupImgLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource(
				"/com/lorent/vovo/resource/images/emesene-48.png"))); // NOI18N
		gridBagConstraints = new java.awt.GridBagConstraints();
		gridBagConstraints.gridx = 0;
		gridBagConstraints.gridy = 0;
		gridBagConstraints.insets = new java.awt.Insets(0, 10, 0, 0);
		backgroundXPanel.add(groupImgLabel, gridBagConstraints);

		jPanel1.setOpaque(false);
		jPanel1.setLayout(new java.awt.GridLayout(2, 0));

		jPanel2.setOpaque(false);
		jPanel2.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT));

		groupNameLabel.setFont(new java.awt.Font("微软雅黑", 1, 12));
		groupNameLabel.setText("jLabel2");
		jPanel2.add(groupNameLabel);

		jPanel1.add(jPanel2);

		groupDescPanel.setOpaque(false);
		groupDescPanel.setLayout(new java.awt.FlowLayout(
				java.awt.FlowLayout.LEFT));

		groupDescLabel.setText("jLabel3");
		groupDescPanel.add(groupDescLabel);

		jPanel1.add(groupDescPanel);

		gridBagConstraints = new java.awt.GridBagConstraints();
		gridBagConstraints.gridx = 1;
		gridBagConstraints.gridy = 0;
		gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
		gridBagConstraints.weightx = 1.0;
		backgroundXPanel.add(jPanel1, gridBagConstraints);

		applyInLabel.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
		applyInLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource(
				"/com/lorent/vovo/resource/images/edit-add-2.png"))); // NOI18N
		applyInLabel.setText(VovoStringUtil
				.getUIString("GroupListItem.applyInLabel.text"));
		applyInLabel.addMouseListener(new java.awt.event.MouseAdapter() {
			public void mouseClicked(java.awt.event.MouseEvent evt) {
				applyInLabelMouseClicked(evt);
			}
		});
		gridBagConstraints = new java.awt.GridBagConstraints();
		gridBagConstraints.gridx = 2;
		gridBagConstraints.gridy = 0;
		gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 20);
		backgroundXPanel.add(applyInLabel, gridBagConstraints);

		add(backgroundXPanel, java.awt.BorderLayout.CENTER);
	}// </editor-fold>
	//GEN-END:initComponents

	private void applyInLabelMouseClicked(java.awt.event.MouseEvent evt) {
		try {
			//			if(applyInLabel.isEnabled()){
			//				applyInLabel.setEnabled(false);
			//				Vovo.exeC("groupChat", "applyInGroupChat", getRoomJid());
			//			}
			Vovo.exeC("groupChat", "applyInGroupChat", getRoomJid());
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	//GEN-BEGIN:variables
	// Variables declaration - do not modify
	private javax.swing.JLabel applyInLabel;
	private org.jdesktop.swingx.JXPanel backgroundXPanel;
	private javax.swing.JLabel groupDescLabel;
	private javax.swing.JPanel groupDescPanel;
	private javax.swing.JLabel groupImgLabel;
	private javax.swing.JLabel groupNameLabel;
	private javax.swing.JPanel jPanel1;
	private javax.swing.JPanel jPanel2;
	// End of variables declaration//GEN-END:variables

	private String roomJid;

	public void setRoomJid(String jid) {
		roomJid = jid;
	}

	public String getRoomJid() {
		return roomJid;
	}

	public String getGroupName() {
		return groupNameLabel.getText();
	}

	public void setGroupName(String name) {
		this.groupNameLabel.setText(name);
	}

	public void setGroupDesc(String desc) {
		this.groupDescLabel.setText(desc);
	}

	public void setApplyInLabelVisible(boolean flag) {
		applyInLabel.setVisible(true);
	}

	public GroupInfo getInfo() {
		GroupInfo info = new GroupInfo();
		info.setRoomJID(roomJid);
		info.setTopic(groupNameLabel.getText());
		info.setDesc(groupDescLabel.getText());
		return info;
	}
}